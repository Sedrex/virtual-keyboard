(()=>{"use strict";let e=["Backquote","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","Digit0","Minus","Equal","Backspace","Tab","KeyQ","KeyW","KeyE","KeyR","KeyT","KeyY","KeyU","KeyI","KeyO","KeyP","BracketLeft","BracketRight","Backslash","Delete","CapsLock","KeyA","KeyS","KeyD","KeyF","KeyG","KeyH","KeyJ","KeyK","KeyL","Semicolon","Quote","Enter","ShiftLeft","KeyZ","KeyX","KeyC","KeyV","KeyB","KeyN","KeyM","Comma","Period","Slash","ArrowUp","ShiftRight","ControlLeft","MetaLeft","AltLeft","Space","AltRight","ArrowLeft","ArrowDown","ArrowRight","ControlRight"],t=["ё","1","2","3","4","5","6","7","8","9","0","-","=","Backspace","Tab","й","ц","у","к","е","н","г","ш","щ","з","х","ъ","\\","Del","CapsLock","ф","ы","в","а","п","р","о","л","д","ж","э","Enter","Shift","я","ч","с","м","и","т","ь","б","ю",".","▲","Shift","Ctrl","Win","Alt"," ","Alt","◄","▼","►","Ctrl"],o=["`","1","2","3","4","5","6","7","8","9","0","-","=","Backspace","Tab","q","w","e","r","t","y","u","i","o","p","[","]","\\","Del","CapsLock","a","s","d","f","g","h","j","k","l",";","'","Enter","Shift","z","x","c","v","b","n","m",",",".","/","▲","Shift","Ctrl","Win","Alt"," ","Alt","◄","▼","►","Ctrl"];function r(){var e=document.getElementById("textarea").value,t="";for(let o=0;o+1<e.length;o++)t+=e[o];document.getElementById("textarea").value=t}function l(){var e=document.getElementById("textarea").value,t="";for(let o=0;o<e.length;o++)t+=e[o];t+="   ",document.getElementById("textarea").value=t}function a(){var e=document.getElementById("textarea").value,t="";for(let o=0;o<e.length;o++)t+=e[o];t+="\n",document.getElementById("textarea").value=t}function c(){var e=document.getElementById("textarea").value,t="";for(let o=0;o<e.length;o++)t+=e[o];t+=" ",document.getElementById("textarea").value=t}let n=document.querySelector("body");function d(e,t,o,r=""){const l=document.createElement(e);return t&&l.classList.add(...t.split(" ")),r&&(l.textContent=r),o.append(l),l}const s=d("div","text_vvod",n);d("textarea","body--textarea textarea",s),document.querySelector(".textarea").id="textarea";let i=document.querySelector("#textarea");const u=d("div","keybord_body",n);for(let e=0;e<5;e++){let t="keyboard_row row";t+=e,d("div",t,u)}let y=document.querySelectorAll(".keyboard_row");for(let e=0;e<9;e++)d("div","keyboard--key key",y[4]);for(let e=0;e<15;e++)d("div","keyboard--key key",y[1]);for(let e=0;e<14;e++)d("div","keyboard--key key",y[0]);for(let e=0;e<13;e++)d("div","keyboard--key key",y[3]);for(let e=0;e<13;e++)d("div","keyboard--key key",y[2]);let m=document.querySelectorAll(".keyboard--key");for(let e=0;e<m.length;e++)d("span","rus",m[e]),d("span","eng hidden",m[e]);const f=document.querySelectorAll(".rus");for(let e=0;e<f.length;e++)f[e].append(t[e]);const g=document.querySelectorAll(".eng");for(let e=0;e<g.length;e++)g[e].append(o[e]);let S=(("абвгдеёжзийклмнопрстуфхцчшщъыьэюя".toUpperCase(),"abcdefghijklmnopqrstuvwxyz").toUpperCase(),document.querySelectorAll(".eng")),h=document.querySelectorAll(".rus"),v=!1,L=document.querySelectorAll(".keyboard--key"),k=(document.querySelector(".keyboard_row"),document.querySelectorAll(".caseDown"));document.querySelector(".caseDown"),function(){let t="";for(let o=0;o<e.length;o++)t=e[o],m[o].classList.add(t)}();let p,x=!0,q=!1;if(p=JSON.parse(localStorage.getItem("myKey")),document.querySelector(".textarea").setAttribute("readonly",!0),console.log(JSON.parse(localStorage.getItem("myKey"))),0==JSON.parse(localStorage.getItem("myKey")))for(let t=0;t<e.length;t++){S[t].classList.remove("hidden"),h[t].classList.add("hidden");for(let e=0;e<k.length;e++)k[e].classList.remove("hidden")}else for(let t=0;t<e.length;t++)S[t].classList.add("hidden"),h[t].classList.remove("hidden");document.onkeydown=function(t){if("AltLeft"==t.code&&(v=!0),"ShiftLeft"==t.code&&1==v)for(let t=0;t<e.length;t++)if(S[t].classList.length>=2){S[t].classList.remove("hidden"),h[t].classList.add("hidden");for(let e=0;e<k.length;e++)k[e].classList.remove("hidden");x=!1,v=!1,localStorage.setItem("myKey",JSON.stringify(x))}else x=!0,S[t].classList.add("hidden"),h[t].classList.remove("hidden"),v=!1,localStorage.setItem("myKey",JSON.stringify(x));let o=".";o+=t.code,".CapsLock"==o&&document.querySelector(o).classList.remove("active"),"CapsLock"==t.code&&(0==q?(q=!0,document.querySelector(".CapsLock").classList.add("actives")):(document.querySelector(".CapsLock").classList.remove("actives"),q=!1)),L.forEach((function(e){e.classList.remove("active")})),document.querySelector(o).classList.add("active");for(let l=0;l<e.length;l++)if(t.code==e[l]&&(o=".",o+=e[l],document.querySelector(".textarea").setAttribute("readonly",!0),".ShiftLeft"!==o&&".ControlLeft"!==o&&".ControlRight"!==o&&".Delete"!==o&&".CapsLock"!==o&&".AltLeft"!==o&&".AltRight"!==o&&".ArrowRight"!==o&&".ArrowLeft"!==o&&".ArrowUp"!==o&&".ArrowDown"!==o&&".MetaLeft"!==o))if(".Tab"==o)document.querySelector(".textarea").removeAttribute("readonly",!0),t=document.getElementById("textarea").value+="   ";else if(".Enter"==o)document.querySelector(".textarea").removeAttribute("readonly",!0);else if(".Backspace"==o)document.querySelector(".textarea").removeAttribute("readonly",!0);else if(".Space"==o)document.querySelector(".textarea").removeAttribute("readonly",!0);else if(0==JSON.parse(localStorage.getItem("myKey")))if(document.querySelector(".textarea").setAttribute("readonly",!0),0==q){var r=document.querySelector(o).lastChild.textContent;t=document.getElementById("textarea").value+=r}else r=document.querySelector(o).lastChild.textContent,t=document.getElementById("textarea").value+=r.toUpperCase();else document.querySelector(".textarea").setAttribute("readonly",!0),0==q?(console.log("work"),r=document.querySelector(o).firstChild.textContent,t=document.getElementById("textarea").value+=r):(console.log("wirk"),r=document.querySelector(o).firstChild.textContent,t=document.getElementById("textarea").value+=r.toUpperCase())},document.onclick=function(t){for(let n=0;n<e.length;n++){let d=".";if(t.target.classList.contains(e[n])){let s;if(d+=e[n],s=e[n],".AltLeft"==d&&(v=!0),".ShiftLeft"==d&&1==v)for(let t=0;t<e.length;t++)if(S[t].classList.length>=2){S[t].classList.remove("hidden"),h[t].classList.add("hidden");for(let e=0;e<k.length;e++)k[e].classList.remove("hidden");x=!1,v=!1}else x=!0,S[t].classList.add("hidden"),h[t].classList.remove("hidden"),v=!1;let i="";i+=d,console.log(i),".CapsLock"==i&&document.querySelector(i).classList.remove("active"),".CapsLock"==i&&(0==q?(q=!0,document.querySelector(".CapsLock").classList.add("actives")):(document.querySelector(".CapsLock").classList.remove("actives"),q=!1)),L.forEach((function(e){e.classList.remove("active")})),document.querySelector(i).classList.add("active");for(let n=0;n<e.length;n++)if(t.target.classList.contains(e[n])){let d=".";if(d+=e[n],document.querySelector(".textarea").setAttribute("readonly",!0),".ShiftLeft"!==d&&".ControlLeft"!==d&&".ControlRight"!==d&&".Delete"!==d&&".CapsLock"!==d&&".AltLeft"!==d&&".AltRight"!==d&&".ArrowRight"!==d&&".ArrowLeft"!==d&&".ArrowUp"!==d&&".ArrowDown"!==d&&".MetaLeft"!==d&&".ShiftRight"!==d)if(".Tab"==d)document.querySelector(".textarea").removeAttribute("readonly",!0),l();else if(".Enter"==d)document.querySelector(".textarea").removeAttribute("readonly",!0),a();else if(".Backspace"==d)document.querySelector(".textarea").removeAttribute("readonly",!0),r();else if(".Space"==d)document.querySelector(".textarea").removeAttribute("readonly",!0),c();else if(0==JSON.parse(localStorage.getItem("myKey")))if(document.querySelector(".textarea").setAttribute("readonly",!0),0==q){var o=document.querySelector(i).lastChild.textContent;t=document.getElementById("textarea").value+=o}else o=document.querySelector(i).lastChild.textContent,t=document.getElementById("textarea").value+=o.toUpperCase();else document.querySelector(".textarea").setAttribute("readonly",!0),0==q?(console.log("work"),o=document.querySelector(i).firstChild.textContent,t=document.getElementById("textarea").value+=o):(console.log("wirk"),o=document.querySelector(i).firstChild.textContent,t=document.getElementById("textarea").value+=o.toUpperCase())}}}i.focus()},i.focus()})();